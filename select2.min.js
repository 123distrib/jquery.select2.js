$(document).ready(function(a){$(this).on("mousedown",function(){$(".subselect").css("display","none"),$(".form-filters").css("display","none")})}),function(a){a.fn.disabled=function(b){a(this).parent("div").css("opacity","0.6")},a.fn.select2=function(b){a('sel:not([bypass]),select:not([bypass]):not([multiple="multiple"])').each(function(){var b=a('<input type="hidden" name="'+a(this).attr("name")+'" id="'+a(this).attr("name")+'" href="'+a(this).attr("href")+'" target="'+a(this).attr("target")+'" selected-value="" />'),c="",d=a('<div class="select"><div class="select_inner"></div></div>'),e=a(this).children('opt[selected="selected"],option[selected="selected"]');if(0!=e.length){var f=e.html();b.val(e.attr("value")),b.attr("selected-value",e.text())}else var f=a(this).attr("placeholder");var g=a('<div class="select2" tabindex="0"><i class="icon-right-open"></i> <span>'+f+"</span></div>");if("0px"!=a(this).css("min-width")&&g.css("min-width",a(this).css("min-width")),a(this).children("opt,option").each(function(){var b="";if(a(this).attr("href"))var b=a(this).attr("href");var d="";if(a(this).attr("target"))var d=a(this).attr("target");c+='<a href="'+b+'" target="'+d+'" tabindex="0" tab-value="'+a(this).attr("value")+'">'+a(this).html()+"</a>"}),a(this).attr("search-bypass"))var h=a('<input type="text" placeholder="Rechercher ..." />');else var h=a('<input type="hidden" placeholder="Rechercher ..." />');var i=a('<div class="subselect"></div>'),j=a('<div class="scrollable scrollable-shadow subscroolable">'+c+"</div>");a(this).before(d),a(d).append(g),a(i).prepend(j),a(i).prepend(h),a(d).append(i),a(d).append(b),h.on("click",function(a){}),h.on("mousedown",function(a){a.stopPropagation()}),h.on("keyup",function(){j.children("a").css("display","none"),j.find("a:caseSensitive('"+a(this).val()+"')").css("display","block").addClass("test")});a(this).attr("target");i.children("div").children("a").on("mouseover",function(){a(this).addClass("hover")}),i.children("div").children("a").on("mouseout",function(){a(this).removeClass("hover")}),i.children("div").children("a").on("click",function(){return i.css("display","none"),b.val(a(this).attr("tab-value")),b.attr("selected-value",a(this).text()),g.children("div span").html(a(this).html()),b.change(),a(g).focus(),!1}),i.children("div").children("a").on("mousedown",function(c){return i.css("display","none"),b.val(a(this).attr("tab-value")),b.attr("selected-value",a(this).text()),g.children("div span").html(a(this).html()),b.change(),a(g).focus(),c.stopPropagation(),!1}),i.children("div").children("a").on("mouseup",function(){return i.css("display","none"),b.val(a(this).attr("tab-value")),b.attr("selected-value",a(this).text()),g.children("div span").html(a(this).html()),b.change(),!1}),a(i).on("keyup",function(b){if(27==b.which)return i.css("display","none"),a(g).focus(),!1}),a(g).on("keyup",function(b){27==b.which&&(i.css("display","none"),a(g).focus())}),a(i).on("keydown",function(a){if(38==a.which){var b=j.children("a:focus").prev();return b.focus(),!1}if(40==a.which){if(j.children("a").is(":focus")){var b=j.children("a:visible:focus").next();b.focus()}else j.children("a:visible:eq(0)").focus();return!1}}),a(g).on("keydown",function(a){if(40==a.which)return i.show(),j.children("a:eq(0)").focus(),!1;if(38==a.which){i.show();var b=j.children("div").length-1;return j.children("a:eq("+b+")").focus(),!1}if(13==a.which){if("block"!=i.css("display"))return i.show(),h.focus(),!1;i.hide()}}),g.on("mousedown",function(b){return a(".subselect").not(i).hide(),i.toggle(),a(g).focus(),b.stopPropagation(),!1}),a(this).remove()})},a.extend(a.expr[":"],{caseSensitive:function(a,b,c,d){return(a.textContent||a.innerText||"").toLowerCase().indexOf((c[3]||"").toLowerCase())>=0}})}(jQuery);